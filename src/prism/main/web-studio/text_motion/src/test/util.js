export const TEST_COMP = {
  'english': {
    'Title_A1': {
      'data': {
        'content': 'Simple Title',
        'fontSize': '20pt',
        'fontStyle': 'Bold',
        'fontColor': 'rgba(255,255,255,1)'
      }
    },
    'Title_A2': {
      'data': {
        'fontSize': '20pt',
        'content': 'Up Text',
        'subContent': 'Down Text',
        'fontStyle': 'Bold',
        'fontColor': 'rgba(255,255,255,1)'
      }
    },
    'Title_A3': {
      'data': {
        'content': 'Elegant Title',
        'fontSize': '20pt',
        'fontStyle': 'Bold',
        'fontColor': 'rgba(0,0,0,1)',
        'fontWeight': '1000'
      }
    },
    'Title_A4': {
      'data': {
        'content': 'Big\\nTitle',
        'fontSize': '36pt',
        'fontStyle': 'Bold',
        'fontWeight': '1000',
        'subContent': 'EPISODE #3',
        'align': 'center'
      }
    },
    'Title_B1': {
      'data': {
        'content': 'ASliding Title\\n 123',
        'fontStyle': 'Bold',
        'fontSize': '20pt'
      }
    },
    'Title_B2': {
      'data': {
        'content': 'A MOVIE TITLE',
        'fontStyle': 'Bold',
        'fontSize': '20pt'
      }
    },
    'Title_B3': {
      'data': {
        'content': 'VLOG',
        'fontSize': '36pt',
        'fontStyle': 'Bold',
        'align': 'center',
        'subContent': 'CALIFORNIA'
      }
    },
    'Title_B4': {
      'data': {
        'content': 'Shaking Title',
        'fontSize': '20pt',
        'fontStyle': 'Bold',
        'fontWeight': '1000'
      }
    },
    'Social_1': {
      'data': {
        'content': 'PRISM Live',
        'fontSize': '24px',
        'fontStyle': 'Bold',
        'fontWeight': '1000'
      }
    },
    'Social_2': {
      'data': {
        'content': 'PRISM Live',
        'fontSize': '24px',
        'fontStyle': 'Bold',
        'fontWeight': '1000'
      }
    },
    'Social_3': {
      'data': {
        'content': 'PRISM Live',
        'fontSize': '24px',
        'fontStyle': 'Bold',
        'fontWeight': '1000'
      }
    },
    'Social_4': {
      'data': {
        'content': 'PRISM Live',
        'fontSize': '24px',
        'fontStyle': 'Bold',
        'fontWeight': '1000'
      }
    },
    'Social_5': {
      'data': {
        'content': 'PRISM Live',
        'fontSize': '24px',
        'fontStyle': 'Bold',
        'fontWeight': '1000'
      }
    },
    'Social_6': {
      'data': {
        'content': 'PRISM Live',
        'fontSize': '24px',
        'fontStyle': 'Bold',
        'fontWeight': '1000'
      }
    },
    'Social_7': {
      'data': {
        'content': 'PRISM Live',
        'fontSize': '24px',
        'fontStyle': 'Bold',
        'fontWeight': '1000'
      }
    },
    'Element_2': {
      'data': {
        'content': 'OMG!',
        'fontSize': '48px',
        'fontStyle': 'Bold',
        'fontWeight': '1000',
        'textLineColor': '#000000',
        'textLineSize': '1.5px'
      }
    },
    'Element_1': {
      'data': {
        'content': 'Sold Out',
        'fontStyle': 'Bold',
        'fontSize': '26px'
      }
    },
    'Caption_1': {
      'data': {
        'content': 'A descriptive caption\\nthat displays on several\\nlines with elegant\\ntext effect.',
        'fontSize': '22px',
        'fontStyle': 'Bold',
        'fontWeight': '100'
      }
    },
    'Caption_2': {
      'data': {
        'content': 'A simple caption\\nsome words of\\nwhich are',
        'subContent': 'highlighted',
        'fontSize': '22px',
        'fontWeight': '1000',
        'fontStyle': 'Bold',
        'align': 'left',
        'background': 'red'
      }
    },
    'Caption_3': {
      'data': {
        'content': 'A simple caption\\nof text that displays\\nclearly on several\\nhighlighted lines',
        'fontSize': '22px',
        'fontWeight': '1000',
        'fontStyle': 'Bold',
        'fontColor': 'black'
      }
    },
    'Lower_Third_1': {
      'data': {
        'content': 'Lower Third',
        'fontSize': '26px',
        'fontStyle': 'Bold',
        'fontWeight': '1000',
        'subContent': 'Displayed with a side line'
      }
    },
    'Lower_Third_2': {
      'data': {
        'content': 'LOWER THIRD',
        'fontSize': '20pt',
        'fontWeight': 'bold',
        'align': 'right',
        'fontStyle': 'Bold',
        'fontColor': 'rgba(0,0,0,1)',
        'subContent': 'ON TWO LINES'
      }
    }
  }
}
export const TEST_GIF = {
  english: {
    Title_A1: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMTI4/MDAxNTc4NjIzODUyODAy.lCBfe4ew0wa8-OVqQ12UR8HuHMQGEfZf2k7mfjyjlGAg.BoPWanBkAVZmHJQ5gH8nM8WI7y_WEEjZ1WKgxk3D7Bwg.GIF/And_en_title_A1.gif',
    Title_A2: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMjg2/MDAxNTc4NjIzODg5MDIz.4StlTZd3pwefO-dfEropa1pTQRLLWBPIYljvFCqLvFMg.WNwXx0j35tZuPLyhFK2V7hG2PeLzkCYp7ClFxI96ftIg.GIF/And_en_title_A2.gif',
    Title_A3: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMTIx/MDAxNTc4NjIzOTIwMzA2.zqXcWusJBdz4cgzxRRiByTvsQHeyDQAWWvg22EwP1fUg.GOHk5WHmCjmRZZlLqiIWmERXatKhrN1d3dVQx2daQlIg.GIF/And_en_title_A3.gif',
    Title_A4: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMTkx/MDAxNTc4NjIzOTUyMTMx.eDw9Lt7d3DuafBRq1PzVntUdMLSXTuKEe3LNCvp0C9Mg.7NdjPn7wCcoFSyC-f6nzV_m6PNH0wzthXPqP8bz-G2Qg.GIF/And_en_title_A4.gif',
    Title_B1: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMTAg/MDAxNTc4NjIzOTg3MzEz.TY2bTSc9-AokIhV_7gzv-RHRXKEdUa8vggCISeTeQNQg.m4iKkrliP_Rp5i_kGPHojeCru1sIZV2bBezbf4SGQXMg.GIF/And_en_title_B1.gif',
    Title_B2: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfNDYg/MDAxNTc4NjI0MDMzNzg1.TJrJ0Tt7YaAg5r0fHTmera0nIVekrXKtXZpQ8RGo5F0g.A_fTC4vzPS8Yfys9MDt6Wthou9Yf6ExjsAadTOP_M2og.GIF/And_en_title_B2.gif',
    Title_B3: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMjY0/MDAxNTc4NjI0MDY5ODIw.wAKFlpbSdjpI3in58mIkjCwif9nZCc8OnNJWO8aDBYsg.uflkfY20mx3Z5auOlulQ0FW0vZrtpay5d1HFQiYWUkUg.GIF/And_en_title_B3.gif',
    Title_B4: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMTI5/MDAxNTc4NjI0MTAxNDY4.IHmmJmGE2ixsLLEW7pyp-6ST56xwXB2JBuCJF82BK0Mg.eJSL6QQbkkhbOGFP3Sf_tf_efHex-jtbwzmx25ypSs8g.GIF/And_en_title_B4.gif',
    Social_1: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMzQg/MDAxNTc4NjI0MTU5MTM1.3WL3OmuZfaecgeNmG_9ksMaFhQvD76cXqniGKkTSqEAg.OuILT7aEKvaDDw8LxaLczrZPYF6D8kuYsrOD1wHHb2Qg.GIF/And_zh_TW_social_1.gif',
    Social_2: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMTEx/MDAxNTc4NjI0MTk3MTk2.HaToBWE1sS_GpSa0WjJKvo3MlpbKR_V-O3T1HRz9Rcwg.zm7mHLVxc9MA3vu1pv5xzinP_-1gA1eFkwz796XAYdEg.GIF/And_zh_TW_social_2.gif',
    Social_3: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMjQw/MDAxNTc4NjI3NDA4NTYw.WcN8CFvjhNX8PLm4-6yUmxqfwrrIFx17H_IM3ASTiyYg.ZDx9WbbzRX4zpiIjE84f69hmpXCSP5RuTtDeXatIAUkg.GIF/And_zh_TW_social_3.gif',
    Social_4: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfNTYg/MDAxNTc4NjI3NDQ2MTE1.dKPCzwZc-W2Q0-uZDHyUCb2t8iejOoTE6W40AVxsMpcg.oCd9GmPW7AlMB33kVTQ5zgoR1QdSsQoz6GjrLJfrXLYg.GIF/And_zh_TW_social_4.gif',
    Social_5: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMjI2/MDAxNTc4NjI3NDc3NDk4.vKG_H6ZdnMtns_Ag9AM1K_2UdQlhdn3tgGw-nwF9-P0g.5be0lCmgLR3xMbdsK1z5cg9vnSNd5jc91eVK_5ZsVGcg.GIF/And_zh_TW_social_5.gif',
    Social_6: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMjAw/MDAxNTc4NjI3NTEwNTEw.ipsKKwXUDAt-9WqdgGe-N0qtqtbQCfSB__XG9qeLujcg.bDaOF1LUIHGz6-K8VYOLsvz9Z-4csfnmYl6sFgcDY3Qg.GIF/And_zh_TW_social_6.gif',
    Social_7: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMjQz/MDAxNTc4NjI3NTQwMzc2.nSmbd9h3EFha76FD9zz2b9VN6SDF1tF3smM29Fm4QIwg.XpGX1N6oJ2LyglRrxUP7bPh4BHFuk7Ankyc_F3BzY0Qg.GIF/And_zh_TW_social_7.gif',
    Element_1: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMjMy/MDAxNTc4NjI3NzY3MDk5.83FUagv7EgmEEorsAa2TDv8HlXpHB56fVTb_MBES24wg.dPg_Hjr_oe6Ae0pMqik3QNQjGfVAhx9TZWEauXB3pPog.GIF/And_en_element_1.gif',
    Element_2: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMTQ0/MDAxNTc4NjI3Nzk3ODIx.5_G2IiUbmK-jgIIU-_sJJE738OPGhgXUDBRWhmHMkXwg.8I4X0X3Zfr59FpPHrngnpGDDDYCqq2yzUr6X26ATBOsg.GIF/IOS_en_element_2.gif',
    Caption_1: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMTk2/MDAxNTc4NjI3NjQ5OTUx.6gkP_nuJPZ8wdOvmayyYdzS-DA7Fyp3J95oXMa-7nuMg.83lk0P-rVIigM8fvrlLFXTlvmQNW76lP8WBHlvB0ewMg.GIF/And_en_caption_1.gif',
    Caption_2: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMjgz/MDAxNTc4NjI3Njg2OTM3.FA0XZIDaMSPYVRLdDSaPoctsy2ZlMaZGstpKheujV-Ig.praJYhXq5zrFS7EIPPxJWPlazpmBXjSzT4MCSnKFzlsg.GIF/And_en_caption_2.gif',
    Caption_3: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMTUz/MDAxNTc4NjI3NzI1NjQz.RwtJHjDMQwLjzzbV99r-cjdVfHOkSPIq6N6UWQnCVPAg.XbjdFQdtUFJ8c7E1vtm-UAjlfxxgIymIVwdNHXK8zWwg.GIF/And_en_caption_3.gif',
    Lower_Third_1: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfMTEg/MDAxNTc4NjI3NTg1NzA3.yLvyHssK3XSM9FqOjD821R--hi3CG--S1FRGoEYsNxEg.yVIWsPAzSv-YrrRy__6ZYF8W7i-YqHiEJm_xPgb65Wcg.GIF/And_en_lower_1.gif',
    Lower_Third_2: 'https://prism-phinf.pstatic.net/MjAyMDAxMTBfNjIg/MDAxNTc4NjI3NjIwNjQy.orTd_oHymDvcExbzDU6IEGVmbqTjRrP2oYyAjrAm6uEg.PGhCReSN3hVcIZzvDDRQgbexqSTrDoz1uxwWQfVrgpAg.GIF/And_en_lower_2.gif'
  }
}
export const LANGS = ['japan', 'china', 'english', 'korean']
export const DATA_KEYS = [
  'type', 'content', 'background', 'align', 'isOnce', 'subContent', 'animateRate',
  'fontFamily', 'fontSize', 'fontColor', 'fontStyle', 'textLineSize', 'textLineColor', 'textTransform'
]

export function getObjDataOfKey (obj) {
  let result = {}
  DATA_KEYS.forEach(item => {
    typeof obj[item] !== 'undefined' && (result[item] = obj[item])
  })
  return result
}

export function getFontWeight (str) {
  str = str.toLowerCase()
  let res = null
  let map = {
    'thin': '100',
    'extralight': '200',
    'extra light': '200',
    'ultralight': '200',
    'ultra light': '200',
    'normal': '400',
    'book': '400',
    'roman': '400',
    'medium': '500',
    'semibold': '600',
    'semi bold': '600',
    'demibold': '600',
    'demi bold': '600',
    'extrabold': '800',
    'extra bold': '800',
    'ultrabold': '800',
    'ultra bold': '800',
    'black': '900',
    'heavy': '900'
  }
  let map2 = {
    'bold': '700',
    'light': '300',
    'regular': '400'
  }
  for (let key in map) {
    str.indexOf(key) !== -1 && (res = map[key])
  }
  if (res === null) {
    for (let key in map2) {
      str.indexOf(key) !== -1 && (res = map2[key])
    }
  }
  return res
}

export function getGroup (type) {
  const map = {
    'Title_A1': 'title',
    'Title_A2': 'title',
    'Title_A4': 'title',
    'Title_A3': 'title',
    'Title_B1': 'title',
    'Title_B2': 'title',
    'Title_B3': 'title',
    'Title_B4': 'title',
    'Social_1': 'social',
    'Social_2': 'social',
    'Social_3': 'social',
    'Social_4': 'social',
    'Social_5': 'social',
    'Social_6': 'social',
    'Social_7': 'social',
    'Element_2': 'element',
    'Element_1': 'element',
    'Caption_3': 'caption',
    'Caption_2': 'caption',
    'Caption_1': 'caption',
    'Lower_Third_1': 'caption',
    'Lower_Third_2': 'caption'
  }
  return map[type]
}

export function getSearch () {
  let searchMap = {}
  let localSearch = location.search.substring(1).split('&')
  localSearch.forEach(item => {
    let r = item.split('=')
    if (r.length === 2) {
      searchMap[r[0]] = decodeURIComponent(r[1])
    }
  })
  return searchMap
}

const WIN_FONTS = [
  'Arial',
  'Arial Black',
  'Bahnschrift',
  'Calibri',
  'Cambria',
  'Cambria Math',
  'Candara',
  'Comic Sans MS',
  'Consolas',
  'Constantia',
  'Corbel',
  'Courier New',
  'Ebrima',
  'Franklin Gothic Medium',
  'Gabriola',
  'Gadugi',
  'Georgia',
  'HoloLens MDL2 Assets',
  'Impact',
  'Ink Free',
  'Javanese Text',
  'Leelawadee UI',
  'Lucida Console',
  'Lucida Sans Unicode',
  'Malgun Gothic',
  'Marlett',
  'Microsoft Himalaya',
  'Microsoft JhengHei',
  'Microsoft New Tai Lue',
  'Microsoft PhagsPa',
  'Microsoft Sans Serif',
  'Microsoft Tai Le',
  'Microsoft YaHei',
  'Microsoft Yi Baiti',
  'MingLiU-ExtB',
  'Mongolian Baiti',
  'MS Gothic',
  'MV Boli',
  'Myanmar Text',
  'Nirmala UI',
  'Palatino Linotype',
  'Segoe MDL2 Assets',
  'Segoe Print',
  'Segoe Script',
  'Segoe UI',
  'Segoe UI Historic',
  'Segoe UI Emoji',
  'Segoe UI Symbol',
  'SimSun',
  'Sitka',
  'Sylfaen',
  'Symbol',
  'Tahoma',
  'Times New Roman',
  'Trebuchet MS',
  'Verdana',
  'Webdings',
  'Wingdings',
  'Yu Gothic'
]
const MAC_FONTS = [
  'American Typewriter',
  'Andale Mono',
  'Arial',
  'Arial Black',
  'Arial Narrow',
  'Arial Rounded MT Bold',
  'Arial Unicode MS',
  'Avenir',
  'Avenir Next',
  'Avenir Next Condensed',
  'Baskerville',
  'Big Caslon',
  'Bodoni 72',
  'Bodoni 72 Oldstyle',
  'Bodoni 72 Smallcaps',
  'Bradley Hand',
  'Brush Script MT',
  'Chalkboard',
  'Chalkboard SE',
  'Chalkduster',
  'Charter',
  'Cochin',
  'Comic Sans MS',
  'Copperplate',
  'Courier',
  'Courier New',
  'Didot',
  'DIN Alternate',
  'DIN Condensed',
  'Futura',
  'Geneva',
  'Georgia',
  'Gill Sans',
  'Helvetica',
  'Helvetica Neue',
  'Herculanum',
  'Hoefler Text',
  'Impact',
  'Lucida Grande',
  'Luminari',
  'Marker Felt',
  'Menlo',
  'Microsoft Sans Serif',
  'Monaco',
  'Noteworthy',
  'Optima',
  'Palatino',
  'Papyrus',
  'Phosphate',
  'Rockwell',
  'Savoye LET',
  'SignPainter',
  'Skia',
  'Snell Roundhand',
  'Tahoma',
  'Times',
  'Times New Roman',
  'Trattatello',
  'Trebuchet MS',
  'Verdana',
  'Zapfino'
]
const IMPORT_FONTS = ['Gothic A1', 'Jua', 'M PLUS Rounded 1c', 'Nanum Myeongjo', 'Noto Serif SC', 'Nunito']
let temp = null

export async function getFonts () {
  if (temp) return temp
  const fontCheck = new Set([...WIN_FONTS, ...MAC_FONTS])
  await document.fonts.ready

  const fontAvailable = new Set()

  for (const font of fontCheck.values()) {
    if (document.fonts.check(`12px "${font}"`)) {
      fontAvailable.add(font)
    }
  }

  return (temp = [...IMPORT_FONTS, ...fontAvailable.values()])
}
